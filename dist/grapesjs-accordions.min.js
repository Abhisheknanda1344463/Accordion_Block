/*! grapesjs-accordions - 0.1.7 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("grapesjs")):"function"==typeof define&&define.amd?define(["grapesjs"],e):"object"==typeof exports?exports["grapesjs-accordions"]=e(require("grapesjs")):t["grapesjs-accordions"]=e(t.grapesjs)}("undefined"!=typeof self?self:this,function(t){return function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},c=o(1),a=n(c),i=o(2),d=n(i),s=o(7),l=n(s);e.default=a.default.plugins.add("grapesjs-accordions",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r({accordionsBlock:{},accordionsProps:{},accordionProps:{},accordionContentProps:{},accordionContainerProps:{},attrAccordions:"data-accordions",attrAccordion:"data-accordion",attrAccordionContent:"data-accordion-content",attrAccordionContainer:"data-accordion-container",classAccordion:"accordion",classAccordionActive:"accordion-active",classAccordionContent:"accordion-content",classAccordionContainer:"accordion-container",selectorAccordion:"href",template:'\n      <div data-accordion-container>\n        <a href="#accordion1" data-accordion>Accordion 1</a>\n      </div>\n      <div id="accordion1" data-accordion-content>\n        <div>Accordion 1 Content</div>\n      </div>\n      <div data-accordion-container>\n        <a href="#accordion2" data-accordion>Accordion 2</a>\n      </div>\n      <div id="accordion2" data-accordion-content>\n        <div>Accordion 2 Content</div>\n      </div>      \n      <div data-accordion-container>\n        <a href="#accordion3" data-accordion>Accordion 3</a>\n      </div>\n      <div id="accordion3" data-accordion-content>\n        <div>Accordion 3 Content</div>\n      </div>\n    ',templateAccordionContent:"<div>New Accordion Content</div>",style:"\n      .accordion {\n        text-decoration: none;\n        color: inherit;\n        padding: 7px 14px;\n        transition: opacity 0.3s;\n        display: block;\n        border-radius: 3px;\n        margin-right: 10px;\n      }\n\n      .accordion-content {\n        display: none;\n        padding: 6px 12px;\n        min-height: 100px;\n      }\n\n    "},e);(0,d.default)(t,o),(0,l.default)(t,o)})},function(e,o){e.exports=t},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},c=o(3),a=n(c),i=o(4),d=n(i),s=o(5),l=n(s),u=o(6),f=n(u);e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.DomComponents,n=o.getType("default"),c=o.getType("link"),i=n.model,s=n.view,u=c.model,p=c.view,v=r({},e,{defaultModel:i,defaultView:s,linkModel:u,linkView:p});(0,a.default)(o,v),(0,d.default)(o,v),(0,l.default)(o,v),(0,f.default)(o,v)}},function(t,e,o){"use strict";function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function r(t,e){var o={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t};e.default=function(t,e){var o=e.linkModel,a=e.linkView,i=r(e,["linkModel","linkView"]),d=i.attrAccordion,s=i.classAccordion,l=i.selectorAccordion;t.addType("accordion",{model:o.extend({defaults:c({},o.prototype.defaults,{name:"Accordion",draggable:"["+i.attrAccordionContainer+"]",droppable:!1,copyable:!1},i.accordionProps),init:function(){var t=this.getAttributes();t[d]=1,this.setAttributes(t),s&&this.addClass(s)},clone:function(){var t=o.prototype.clone.apply(this,arguments);return t.addAttributes(n({},l,"")),t}},{isComponent:function(t){if(t.hasAttribute&&t.hasAttribute(d))return{type:"accordion"}}}),view:a})}},function(t,e,o){"use strict";function n(t,e){var o={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t};e.default=function(t,e){var o=e.defaultModel,c=e.defaultView,a=n(e,["defaultModel","defaultView"]),i=a.attrAccordions;t.addType("accordions",{model:o.extend({defaults:r({},o.prototype.defaults,{copyable:!0,name:"Accordions","attr-accordions":a.aattrAccordions,"attr-accordion":a.attrAccordion,"attr-accordion-content":a.attrAccordionContent,"class-accordion-active":a.classAccordionActive,"selector-accordion":a.selectorAccordion,script:function(){var t,e=this,o=document.body,n=(o.matchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector,function(){var o=e.querySelectorAll("[{[ attr-accordion-content ]}]")||[];for(t=0;t<o.length;t++)o[t].style.display="none"}),r=e.querySelector(".{[ class-accordion-active ]}[{[ attr-accordion ]}]");r=r||e.querySelector("[{[ attr-accordion ]}]"),r&&function(o){var r=e.querySelectorAll("[{[ attr-accordion ]}]")||[];for(t=0;t<r.length;t++){var c=r[t],a=c.className.replace("{[ class-accordion-active ]}","").trim();c.className=a}n(),o.className+=" {[ class-accordion-active ]}";var i=o.getAttribute("{[ selector-accordion ]}"),d=e.querySelector(i);d&&(d.style.display="")}(r),e.addEventListener("click",function(t){var o=t.target;"block"===e.querySelector(o.getAttribute("{[ selector-accordion ]}")).style.display?e.querySelector(o.getAttribute("{[ selector-accordion ]}")).style.display="none":e.querySelector(o.getAttribute("{[ selector-accordion ]}")).style.display="block"})}},a.accordionsProps),init:function(){var t=this.getAttributes();t[a.attrAccordions]=1,this.setAttributes(t)}},{isComponent:function(t){if(t.hasAttribute&&t.hasAttribute(i))return{type:"accordions"}}}),view:c.extend({init:function(){var t=this.model.components();!t.length&&t.add(a.template)},onRender:function(){var t=this.model.find("["+a.attrAccordionContainer+"]")[0];t&&t.components().each(function(e){t.onAdd(e)})}})})}},function(t,e,o){"use strict";function n(t,e){var o={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t};e.default=function(t,e){var o=e.defaultModel,c=e.defaultView,a=n(e,["defaultModel","defaultView"]),i="accordion-content",d=a.attrAccordionContent,s=a.classAccordionContent;t.addType(i,{model:o.extend({defaults:r({},o.prototype.defaults,{name:"Accordion Content",draggable:!0,copyable:!1,removable:!0},a.accordionContentProps),init:function(){var t=this.getAttributes();t[d]=1,this.setAttributes(t),s&&this.addClass(s)}},{isComponent:function(t){if(t.hasAttribute&&t.hasAttribute(d))return{type:i}}}),view:c})}},function(t,e,o){"use strict";function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function r(t,e){var o={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t};e.default=function(t,e){var o=e.defaultModel,a=e.defaultView,i=r(e,["defaultModel","defaultView"]),d="accordion-container",s=i.attrAccordions,l=i.attrAccordionContainer,u=i.classAccordionContainer,f=i.selectorAccordion;t.addType(d,{model:o.extend({defaults:c({},o.prototype.defaults,{name:"Accordion Container",draggable:"["+s+"]",droppable:"["+i.attrAccordionContent+"]",copyable:!1,removable:!1},i.accordionContainerProps),init:function(){var t=this.getAttributes();t[l]=1,this.setAttributes(t),u&&this.addClass(u);var e=this.components();this.listenTo(e,"add",this.onAdd),this.listenTo(e,"remove",this.onRemove)},onRemove:function(t,e){var o=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],t.accordionContent);o&&setTimeout(function(){var e=t.collection,n=o.collection;!e&&n&&n.remove(o)},0)},onAdd:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(this.components(),t.getAttributes());if(!t.accordionContent&&!o.avoidStore){var c=r[f],a=this.closest("["+s+"]"),d=(a.view,c&&a.view.$el.find(c));if(d.length)t.accordionContent=d.data("model");else{var l=a.components().add({type:"accordion-content",components:i.templateAccordionContent}),u=l.getId();l.addAttributes({id:u}),t.addAttributes(n({},f,"#"+u)),t.accordionContent=l,l.getEl().style.display="none"}}}},{isComponent:function(t){if(t.hasAttribute&&t.hasAttribute(l))return{type:d}}}),view:a})}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t};e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.BlockManager,r=e.accordionsBlock,c=e.style,a='<div data-gjs-type="accordions"></div>\n    '+(c?"<style>"+c+"</style>":"");r&&o.add("accordions",n({label:"Accordions Menu",attributes:{class:"fa fa-arrow-circle-down"},content:a},r))}}])});